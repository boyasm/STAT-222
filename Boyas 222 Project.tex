


% Header, overrides base

    % Make sure that the sphinx doc style knows who it inherits from.
    \def\sphinxdocclass{article}

    % Declare the document class
    \documentclass[letterpaper,10pt,english]{/usr/share/sphinx/texinputs/sphinxhowto}

    % Imports
    \usepackage[utf8]{inputenc}
    \DeclareUnicodeCharacter{00A0}{\\nobreakspace}
    \usepackage[T1]{fontenc}
    \usepackage{babel}
    \usepackage{times}
    \usepackage{import}
    \usepackage[Bjarne]{/usr/share/sphinx/texinputs/fncychap}
    \usepackage{longtable}
    \usepackage{/usr/share/sphinx/texinputs/sphinx}
    \usepackage{multirow}

    \usepackage{amsmath}
    \usepackage{amssymb}
    \usepackage{ucs}
    \usepackage{enumerate}

    % Used to make the Input/Output rules follow around the contents.
    \usepackage{needspace}

    % Pygments requirements
    \usepackage{fancyvrb}
    \usepackage{color}
    % ansi colors additions
    \definecolor{darkgreen}{rgb}{.12,.54,.11}
    \definecolor{lightgray}{gray}{.95}
    \definecolor{brown}{rgb}{0.54,0.27,0.07}
    \definecolor{purple}{rgb}{0.5,0.0,0.5}
    \definecolor{darkgray}{gray}{0.25}
    \definecolor{lightred}{rgb}{1.0,0.39,0.28}
    \definecolor{lightgreen}{rgb}{0.48,0.99,0.0}
    \definecolor{lightblue}{rgb}{0.53,0.81,0.92}
    \definecolor{lightpurple}{rgb}{0.87,0.63,0.87}
    \definecolor{lightcyan}{rgb}{0.5,1.0,0.83}

    % Needed to box output/input
    \usepackage{tikz}
        \usetikzlibrary{calc,arrows,shadows}
    \usepackage[framemethod=tikz]{mdframed}

    \usepackage{alltt}

    % Used to load and display graphics
    \usepackage{graphicx}
    \graphicspath{ {figs/} }
    \usepackage[Export]{adjustbox} % To resize

    % used so that images for notebooks which have spaces in the name can still be included
    \usepackage{grffile}


    % For formatting output while also word wrapping.
    \usepackage{listings}
    \lstset{breaklines=true}
    \lstset{basicstyle=\small\ttfamily}
    \def\smaller{\fontsize{9.5pt}{9.5pt}\selectfont}

    %Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\def\PY@tok@gd{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\def\PY@tok@gu{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\def\PY@tok@gt{\def\PY@tc##1{\textcolor[rgb]{0.00,0.25,0.82}{##1}}}
\def\PY@tok@gs{\let\PY@bf=\textbf}
\def\PY@tok@gr{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\def\PY@tok@cm{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\def\PY@tok@vg{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\def\PY@tok@m{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\def\PY@tok@mh{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\def\PY@tok@go{\def\PY@tc##1{\textcolor[rgb]{0.50,0.50,0.50}{##1}}}
\def\PY@tok@ge{\let\PY@it=\textit}
\def\PY@tok@vc{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\def\PY@tok@il{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\def\PY@tok@cs{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\def\PY@tok@cp{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\def\PY@tok@gi{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\def\PY@tok@gh{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\def\PY@tok@ni{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\def\PY@tok@nl{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\def\PY@tok@nn{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\def\PY@tok@no{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\def\PY@tok@na{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\def\PY@tok@nb{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@nc{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\def\PY@tok@nd{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\def\PY@tok@ne{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\def\PY@tok@nf{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\def\PY@tok@si{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\def\PY@tok@s2{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\def\PY@tok@vi{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\def\PY@tok@nt{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@nv{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\def\PY@tok@s1{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\def\PY@tok@sh{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\def\PY@tok@sc{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\def\PY@tok@sx{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@bp{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@c1{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\def\PY@tok@kc{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@c{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\def\PY@tok@mf{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\def\PY@tok@err{\def\PY@bc##1{\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{##1}}}
\def\PY@tok@kd{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@ss{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\def\PY@tok@sr{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\def\PY@tok@mo{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\def\PY@tok@kn{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@mi{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\def\PY@tok@gp{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\def\PY@tok@o{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\def\PY@tok@kr{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@s{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\def\PY@tok@kp{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@w{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\def\PY@tok@kt{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\def\PY@tok@ow{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\def\PY@tok@sb{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\def\PY@tok@k{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\def\PY@tok@se{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\def\PY@tok@sd{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    %Set pygments styles if needed...
    
        \definecolor{nbframe-border}{rgb}{0.867,0.867,0.867}
        \definecolor{nbframe-bg}{rgb}{0.969,0.969,0.969}
        \definecolor{nbframe-in-prompt}{rgb}{0.0,0.0,0.502}
        \definecolor{nbframe-out-prompt}{rgb}{0.545,0.0,0.0}

        \newenvironment{ColorVerbatim}
        {\begin{mdframed}[%
            roundcorner=1.0pt, %
            backgroundcolor=nbframe-bg, %
            userdefinedwidth=1\linewidth, %
            leftmargin=0.1\linewidth, %
            innerleftmargin=0pt, %
            innerrightmargin=0pt, %
            linecolor=nbframe-border, %
            linewidth=1pt, %
            usetwoside=false, %
            everyline=true, %
            innerlinewidth=3pt, %
            innerlinecolor=nbframe-bg, %
            middlelinewidth=1pt, %
            middlelinecolor=nbframe-bg, %
            outerlinewidth=0.5pt, %
            outerlinecolor=nbframe-border, %
            needspace=0pt
        ]}
        {\end{mdframed}}
        
        \newenvironment{InvisibleVerbatim}
        {\begin{mdframed}[leftmargin=0.1\linewidth,innerleftmargin=3pt,innerrightmargin=3pt, userdefinedwidth=1\linewidth, linewidth=0pt, linecolor=white, usetwoside=false]}
        {\end{mdframed}}

        \renewenvironment{Verbatim}[1][\unskip]
        {\begin{alltt}\smaller}
        {\end{alltt}}
    

    % Help prevent overflowing lines due to urls and other hard-to-break 
    % entities.  This doesn't catch everything...
    \sloppy

    % Document level variables
    \title{Boyas 222 Project}
    \date{April 16, 2014}
    \release{}
    \author{Unknown Author}
    \renewcommand{\releasename}{}

    % TODO: Add option for the user to specify a logo for his/her export.
    \newcommand{\sphinxlogo}{}

    % Make the index page of the document.
    \makeindex

    % Import sphinx document type specifics.
     


% Body

    % Start of the document
    \begin{document}

        
            \maketitle
        

        


        
        \section{What Results in Death?}

\subsection{\emph{Analysis of Social Conflict in Africa, 1990--2011}}

\subsubsection{Matthew Boyas STAT 222, MA Capstone 21 March 2014}

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}1{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k+kn}{as} \PY{n+nn}{np}
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k+kn}{as} \PY{n+nn}{pd}
\PY{k+kn}{import} \PY{n+nn}{matplotlib} \PY{k+kn}{as} \PY{n+nn}{mpl}
\PY{k+kn}{import} \PY{n+nn}{matplotlib.pyplot} \PY{k+kn}{as} \PY{n+nn}{plt}
\PY{k+kn}{import} \PY{n+nn}{scipy} \PY{k+kn}{as} \PY{n+nn}{sp}
\PY{k+kn}{import} \PY{n+nn}{collections} \PY{k+kn}{as} \PY{n+nn}{col}
\PY{k+kn}{import} \PY{n+nn}{statsmodels.api} \PY{k+kn}{as} \PY{n+nn}{sm}


\PY{k+kn}{from} \PY{n+nn}{statsmodels.formula.api} \PY{k+kn}{import} \PY{n}{logit}\PY{p}{,} \PY{n}{probit}\PY{p}{,} \PY{n}{poisson}
\PY{k+kn}{from} \PY{n+nn}{scipy} \PY{k+kn}{import} \PY{n}{stats}
\PY{k+kn}{from} \PY{n+nn}{scipy.stats} \PY{k+kn}{import} \PY{n}{nbinom}
\PY{k+kn}{from} \PY{n+nn}{sklearn.cross\PYZus{}validation} \PY{k+kn}{import} \PY{n}{KFold}\PY{p}{,} \PY{n}{cross\PYZus{}val\PYZus{}score}
\PY{k+kn}{from} \PY{n+nn}{sklearn.neighbors} \PY{k+kn}{import} \PY{n}{KNeighborsClassifier}
\PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k+kn}{import} \PY{n}{tree}
\PY{k+kn}{from} \PY{n+nn}{mpl\PYZus{}toolkits.basemap} \PY{k+kn}{import} \PY{n}{Basemap}
\PY{k+kn}{from} \PY{n+nn}{IPython.display} \PY{k+kn}{import} \PY{n}{display}
\PY{k+kn}{from} \PY{n+nn}{IPython.display} \PY{k+kn}{import} \PY{n}{HTML}

\PY{c}{\PYZsh{} This code was written using Scipy 0.13.3, Numpy 1.6.1, Pandas 0.12.0, XLRD 0.9.2, Matplotlib Basemap 1.0.6, GEOS 3.3.3}
\PY{c}{\PYZsh{} It may not be compatibile with other module versions}
\PY{c}{\PYZsh{} Code version 3 March 2014}
\PY{c}{\PYZsh{} No known bugs}

\PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
\PY{k+kn}{import} \PY{n+nn}{warnings}
\PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{ignore}\PY{l+s}{"}\PY{p}{,} \PY{n}{category}\PY{o}{=}\PY{n+ne}{DeprecationWarning}\PY{p}{,} \PY{n}{module}\PY{o}{=}\PY{l+s}{"}\PY{l+s}{pandas}\PY{l+s}{"}\PY{p}{,} \PY{n}{lineno}\PY{o}{=}\PY{l+m+mi}{570}\PY{p}{)}
\PY{c}{\PYZsh{}This ignores a bug that results when using pandas 0.12 alongside sklearn.  It will be fixed,}
\PY{c}{\PYZsh{}according to pandas developers, in pandas 0.13.}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}2{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Define color palette for graphing and plots}
\PY{c}{\PYZsh{} Print friendly as well as somewhat colorblind friendly}
\PY{c}{\PYZsh{} Palettes are ColorBrewer's Set2 and Dark2 palettes}
\PY{n}{light} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{\PYZsh{}66C2A5}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}FC8D62}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}8DA0CB}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}E78AC3}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}A6D654}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}FFD92F}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}E5C494}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}B3B3B3}\PY{l+s}{'}\PY{p}{]}
\PY{n}{dark} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{\PYZsh{}003262}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}FDB515}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}1B9E77}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}D95F02}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}7570B3}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}E7298A}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}66A61E}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}E6AB02}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}A6761D}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{\PYZsh{}666666}\PY{l+s}{'}\PY{p}{]}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    
\section{Data Import, Merging, Cleaning, \& Manipulation}All datasets used in this project are made freely available through
various academic sources on the Internet. For ease of replicability, I
have made local snapshots of the datasets available on the GitHub
repository:

https://github.com/boyasm/STAT-222

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}3{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{scad} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}excel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{/accounts/grad/mboyas/STAT-222/Raw Datasets/SCAD 3.0/SCAD 3.0 1990-2011.xls}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{SCAD 3.0(2).csv}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{} Remove all conflicts starting prior to 1990 (see documentation)}
\PY{n}{scad} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{styr}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{1990}\PY{p}{]}

\PY{c}{\PYZsh{} Remove all conflicts that exceed one calendar year to simplify analyses}
\PY{n}{scad} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{styr} \PY{o}{==} \PY{n}{scad}\PY{o}{.}\PY{n}{eyr}\PY{p}{]}

\PY{c}{\PYZsh{} Remove all duplicated rows (see documentation re: GIS)}
\PY{n}{scad} \PY{o}{=} \PY{n}{scad}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{n}{cols}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{eventid}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}4{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Merge in Polity IV}
\PY{n}{polity} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}excel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{/accounts/grad/mboyas/STAT-222/Raw Datasets/Polity IV/p4v2012.xls}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{p4v2012}\PY{l+s}{'}\PY{p}{)}
\PY{n}{polity} \PY{o}{=} \PY{n}{polity}\PY{p}{[}\PY{p}{[}\PY{l+s}{"}\PY{l+s}{ccode}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{country}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{year}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{fragment}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{democ}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{autoc}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{polity}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{polity2}\PY{l+s}{"}\PY{p}{]}\PY{p}{]}
\PY{n}{newcols} \PY{o}{=} \PY{n}{polity}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{values}
\PY{n}{newcols}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}
\PY{n}{polity}\PY{o}{.}\PY{n}{columns}\PY{o}{=}\PY{n}{newcols}
\PY{n}{scad} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{scad}\PY{p}{,} \PY{n}{polity}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}\PY{p}{]}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}5{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Merge in NMC from COW}
\PY{n}{nmc} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{/accounts/grad/mboyas/STAT-222/Raw Datasets/COW/NMC\PYZus{}v4\PYZus{}0.csv}\PY{l+s}{'}\PY{p}{,} \PY{n}{na\PYZus{}values}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{-9}\PY{l+s}{'}\PY{p}{)}
\PY{n}{nmc} \PY{o}{=} \PY{n}{nmc}\PY{p}{[}\PY{n}{nmc}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]}\PY{p}{]}
\PY{n}{newcols} \PY{o}{=} \PY{n}{nmc}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{values}
\PY{n}{newcols}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}
\PY{n}{nmc}\PY{o}{.}\PY{n}{columns}\PY{o}{=}\PY{n}{newcols}
\PY{n}{scad} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{scad}\PY{p}{,} \PY{n}{nmc}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}\PY{p}{]}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}6{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Merge in World Religions from COW}
\PY{n}{wrp} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{/accounts/grad/mboyas/STAT-222/Raw Datasets/COW/WRP\PYZus{}national.csv}\PY{l+s}{'}\PY{p}{)}
\PY{n}{wrp} \PY{o}{=} \PY{n}{wrp}\PY{p}{[}\PY{n}{wrp}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{concatenate}\PY{p}{(}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{13}\PY{p}{,}\PY{l+m+mi}{21}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{25}\PY{p}{,}\PY{l+m+mi}{38}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{]}\PY{p}{]}
\PY{n}{yearState} \PY{o}{=} \PY{n}{wrp}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{year}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{state}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{wrp} \PY{o}{=} \PY{n}{wrp}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{:}\PY{p}{]}
\PY{n}{wrp}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{domRel}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{n}{wrp}\PY{o}{.}\PY{n}{idxmax}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{wrp} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{wrp}\PY{o}{.}\PY{n}{domRel}\PY{p}{)}
\PY{n}{wrp} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{yearState}\PY{p}{,} \PY{n}{wrp}\PY{p}{,} \PY{n}{left\PYZus{}index}\PY{o}{=}\PY{n+nb+bp}{True}\PY{p}{,} \PY{n}{right\PYZus{}index}\PY{o}{=}\PY{n+nb+bp}{True}\PY{p}{)}
\PY{c}{\PYZsh{} determine the dominant religion}
\PY{n}{newcols} \PY{o}{=} \PY{n}{wrp}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{values}
\PY{n}{newcols}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}
\PY{n}{newcols}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}
\PY{n}{wrp}\PY{o}{.}\PY{n}{columns}\PY{o}{=}\PY{n}{newcols}
\PY{n}{wrp} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{]}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{wrp}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}\PY{p}{]}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
\PY{n}{wrp} \PY{o}{=} \PY{n}{wrp}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ffill}\PY{l+s}{'}\PY{p}{)}
\PY{n}{wrp}\PY{o}{.}\PY{n}{domRel} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{Categorical}\PY{p}{(}\PY{n}{wrp}\PY{o}{.}\PY{n}{domRel}\PY{p}{)}
\PY{n}{scad} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{scad}\PY{p}{,} \PY{n}{wrp}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}\PY{p}{]}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}7{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Set all INT variables as FLOAT to enable coding as np.nan}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{columns}\PY{p}{)}\PY{p}{)}\PY{p}{:}
    \PY{k}{if} \PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{dtype} \PY{o}{==} \PY{n+nb}{int}\PY{p}{:}
        \PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{float}\PY{p}{)}

    
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}8{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}Code all dataset missing values as NaN}
\PY{n}{scad}\PY{o}{.}\PY{n}{npart}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{npart} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{99}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{npart}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{npart} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{88}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{99}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{88}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{77}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{locnum}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{locnum} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{99}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{issue1}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{issue1} \PY{o}{==} \PY{l+m+mi}{14}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{issue1}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{issue2} \PY{o}{==} \PY{l+m+mi}{14}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{issue1}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{issue3} \PY{o}{==} \PY{l+m+mi}{14}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{fragment}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{fragment} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{66}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{fragment}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{fragment} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{77}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{fragment}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{fragment} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{88}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{democ}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{democ} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{66}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{democ}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{democ} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{77}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{democ}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{democ} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{88}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan} 
\PY{n}{scad}\PY{o}{.}\PY{n}{autoc}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{autoc} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{66}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{autoc}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{autoc} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{77}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{autoc}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{autoc} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{88}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{polity}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{polity} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{66}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{polity}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{polity} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{77}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{polity}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{polity} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{88}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{polity2}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{polity2} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{66}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{polity}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{polity2} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{77}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{polity}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{polity2} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{88}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{scad}\PY{o}{.}\PY{n}{etype}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{etype} \PY{o}{==} \PY{o}{-}\PY{l+m+mi}{9}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}9{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}Recode dominant religion as a dummy numeric variable}
\PY{n}{levels} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{p}{[}\PY{p}{(}\PY{n}{val}\PY{p}{,} \PY{n}{i}\PY{p}{)} \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{val} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n+nb}{set}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{domRel}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{)}
\PY{n}{scad}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{domRelNum}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{p}{[}\PY{n}{levels}\PY{p}{[}\PY{n}{val}\PY{p}{]} \PY{k}{for} \PY{n}{val} \PY{o+ow}{in} \PY{n}{scad}\PY{o}{.}\PY{n}{domRel}\PY{p}{]}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}10{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}Code indicator variable, 0 if no deaths, 1 if at least one death}
\PY{n}{scad}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{o}{=}\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}
\PY{n}{scad}\PY{o}{.}\PY{n}{death01}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{death01}\PY{o}{>}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{1}
\PY{n}{scad}\PY{o}{.}\PY{n}{death01}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath} \PY{o}{==} \PY{n}{np}\PY{o}{.}\PY{n}{nan}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    
\section{Experimental Grouping Analyses \& Correlations}There are a lot of missing values in the dataset coded as NaN (in
Numpy). I did not want to delete the majority of my dataset by filtering
out any row that has a missing observation; for example, the variable
issue3 only has 86 non-missing values out of a total of 7838 rows in the
dataset. Thus, I chose to remove the missing values for each level of
analysis depending on the variabes that I choose to use. Note that this
decision could cause some plots to have slighly different ranges, but my
hope is that these differences do not cause large interpretory issues of
my results.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}11{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{grouped} \PY{o}{=} \PY{n}{scad}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{)}
\PY{n}{grouped}\PY{o}{.}\PY{n}{aggregate}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{)}
\PY{n}{grouped}\PY{o}{.}\PY{n}{aggregate}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}11{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}                eventid       ccode          id  duration      stday
\textbackslash{}
death01
0        5237366.559140  523.717535  191.207610  4.871588  15.221257
1        5162870.017782  516.261158  258.441771  4.628661  15.122385

             stmo         styr       eday       emo          eyr
etype  \textbackslash{}
death01
0        6.305418  2001.997932  16.080852  6.404467  2001.997932
3.804177
1        6.251743  2001.798466  15.564854  6.356695  2001.798466
6.616109

         escalation  cgovtarget  rgovtarget     npart     ndeath
repress  \textbackslash{}
death01
0          0.330645    0.577957    0.051489  3.415624   0.000000
0.246691
1          0.516039    0.277545    0.064854  2.967298  30.811715
0.489191

         sublocal    locnum  gislocnum    issue1    issue2    issue3
\textbackslash{}
death01
0        1.033912  2.725225  -0.929901  6.656783  6.383707  8.844444
1        1.070084  3.395292   2.630056  7.523339  7.543524  6.641026

          nsource  ACD\_questionable  latitude  longitude  fragment
democ  \textbackslash{}
death01
0        0.436725          0.007444  2.850657  17.049998  0.266167
3.113037
1        0.520572          0.043584  1.039060  21.869196  0.648680
3.789972

           autoc    polity   polity2         irst           milex
milper  \textbackslash{}
death01
0        2.73023  0.382807  0.440979  1286.445935   914651.891509
69.761247
1        2.05298  1.736991  1.591363  1744.512457  1035289.580565
67.626248

                  pec          tpop         upop      cinc  domRelNum
death01
0        69726.417113  34607.410926  7629.150699  0.003086   1.064516
1        78352.929633  42194.788961  8831.501391  0.003646   1.002789\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}12{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}T Tests}
\PY{c}{\PYZsh{}Run a series of unequal variance, two-sample T-Tests across the binary death01 variable to get a feel for what might be significant}
\PY{c}{\PYZsh{}Note, though, that the sample size is large (7838), so many tests could be significant simply due to large n}
\PY{n}{death} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{]}
\PY{n}{noDeath} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{n}{scad}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{]}

\PY{n}{tests} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{duration}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{rgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{npart}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue2}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue3}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{nsource}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{polity}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{polity2}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{domRelNum}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{val} \PY{o+ow}{in} \PY{n}{tests}\PY{p}{:}
    \PY{k}{print} \PY{n}{val}
    \PY{k}{print} \PY{n}{sp}\PY{o}{.}\PY{n}{stats}\PY{o}{.}\PY{n}{ttest\PYZus{}ind}\PY{p}{(}\PY{n}{death}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{death}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{noDeath}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{noDeath}\PY{p}{[}\PY{n}{val}\PY{p}{]}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{equal\PYZus{}var}\PY{o}{=}\PY{n+nb+bp}{False}\PY{p}{)}
    
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}duration
(array(-0.6191845920484388), 0.53582363662933341)
etype
(array(45.25647926762926), 0.0)
escalation
(array(5.501096413280938), 3.9758488353637421e-08)
cgovtarget
(array(-27.37948468667773), 2.7444336572226109e-156)
rgovtarget
(array(2.3905804113531386), 0.016855122166157831)
npart
(array(-7.712361475803531), 3.827789900366002e-14)
issue1
(array(8.987688769843748), 3.4456273733061221e-19)
issue2
(array(5.826617939496881), 7.590613069373708e-09)
issue3
(array(-3.4257606454584377), 0.0010949932512394106)
nsource
(array(7.139369574626679), 1.0488298097688245e-12)
polity
(array(9.756527174433069), 2.8855726574799853e-22)
polity2
(array(9.988017092316245), 2.5525560969023723e-23)
domRelNum
(array(-2.5464491709369006), 0.010906674426839512)
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}13{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}Run some preliminary experimental correlations}
\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{escalation}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}13{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}0.023542145277172289\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}14{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{etype}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}14{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}0.076513997138151713\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}15{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{duration}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}15{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}0.21327331547766268\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}139{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{l+m+mi}{3}\PY{n}{tscad}\PY{o}{.}\PY{n}{ndeath}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{domRelNum}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}139{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}0.0094617254397450015\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}140{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{issue1}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}140{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}-0.0012071784818209227\end{alltt}

            \end{InvisibleVerbatim}
            
        
    
\section{Descriptive Plots and Tables}

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}50{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{grouped} \PY{o}{=} \PY{n}{scad}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{styr}\PY{l+s}{'}\PY{p}{)}
\PY{n}{totals} \PY{o}{=} \PY{n}{grouped}\PY{o}{.}\PY{n}{death01}\PY{o}{.}\PY{n}{aggregate}\PY{p}{(}\PY{n+nb}{len}\PY{p}{)}
\PY{n}{deaths} \PY{o}{=} \PY{n}{grouped}\PY{o}{.}\PY{n}{death01}\PY{o}{.}\PY{n}{aggregate}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{nansum}\PY{p}{)}
\PY{n}{deaths}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{deaths}\PY{p}{)}\PY{p}{]}\PY{o}{=}\PY{l+m+mi}{0}
\PY{n}{nodeaths} \PY{o}{=} \PY{n}{totals} \PY{o}{-} \PY{n}{deaths}
\PY{n}{years} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{1990}\PY{p}{,} \PY{l+m+mi}{2012}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{111}\PY{p}{)}
\PY{n}{width}\PY{o}{=}\PY{l+m+mf}{0.5}
\PY{n}{p1} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{years}\PY{p}{,} \PY{n}{nodeaths}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{b}\PY{l+s}{'}\PY{p}{,} \PY{n}{align}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{center}\PY{l+s}{'}\PY{p}{)}
\PY{n}{p2} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{years}\PY{p}{,} \PY{n}{deaths}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{r}\PY{l+s}{'}\PY{p}{,} \PY{n}{align}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{center}\PY{l+s}{'}\PY{p}{)}
\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{none}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
    
\PY{n}{legend} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(} \PY{p}{(}\PY{n}{p1}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{p2}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{prop}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s}{'}\PY{l+s}{size}\PY{l+s}{'}\PY{p}{:}\PY{l+m+mi}{12}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{legend}\PY{o}{.}\PY{n}{get\PYZus{}frame}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{set\PYZus{}linewidth}\PY{p}{(}\PY{l+m+mf}{0.0}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Total Number of Conflict Events}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{ylabs} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{'} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)} \PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{n}{ylabs}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{450}\PY{p}{,} \PY{l+m+mi}{50}\PY{p}{)}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}yticklabels}\PY{p}{(}\PY{n}{ylabs}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Start Year of Conflict}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{1989}\PY{p}{,} \PY{l+m+mi}{2012}\PY{p}{)}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticks}\PY{p}{(}\PY{n}{years}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{n}{years}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{70}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{bottom}\PY{o}{=}\PY{l+m+mf}{0.11}\PY{p}{,} \PY{n}{left}\PY{o}{=}\PY{l+m+mf}{0.09}\PY{p}{,} \PY{n}{right}\PY{o}{=}\PY{l+m+mf}{0.99}\PY{p}{,} \PY{n}{top}\PY{o}{=}\PY{l+m+mf}{0.93}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Figure 1: Number of Death and No Death Conflicts by Year }\PY{l+s+se}{\PYZbs{}n}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{fig1.pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{format}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{bbox\PYZus{}inches}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{tight}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
    \begin{center}
    \includegraphics[max size={\textwidth}{\textheight}]{Boyas 222 Project_files/Boyas 222 Project_23_0.png}
    \par
    \end{center}
    
            \end{InvisibleVerbatim}
            
        
    
Figure 1, above, is a split bar-chart, with one bar per year, visually
showing the number of conflicts resulting in deaths relative to the
total number of conflicts per year. Each bar represents all conflicts in
the specified year and is split into two pieces, one piece for conflicts
resulting in deaths and one piece for conflicts resulting in no deaths.
Note that with the exception of the spike in death conflicts in 2011
(most likely attributable to the Arab Spring), the number of conflicts
result in deaths remain somewhat constant across the years of analysis.
Additionally, the number of conflicts resulting in no-deaths show a
somewhat increasing trend as more governments democratize following the
political revolutions of the 20th Century until the late 2000s, when
dissatisfaction with incomplete democratization begins to set
in---which, in turn, led to the Arab Spring.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}21{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{noNan} \PY{o}{=} \PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{p}{)}\PY{p}{]}
\PY{n}{counts} \PY{o}{=} \PY{n}{col}\PY{o}{.}\PY{n}{Counter}\PY{p}{(}\PY{n}{noNan}\PY{p}{)}
\PY{n}{bins} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{freqs} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{n+nb}{len}\PY{p}{(}\PY{n}{counts}\PY{p}{)}
\PY{n}{j}\PY{o}{=}\PY{l+m+mi}{0}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{unique}\PY{p}{(}\PY{n}{counts}\PY{p}{)}\PY{p}{:}
    \PY{n}{freqs}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{o}{=} \PY{n}{counts}\PY{p}{[}\PY{n}{i}\PY{p}{]}
    \PY{n}{j} \PY{o}{=} \PY{n}{j}\PY{o}{+}\PY{l+m+mi}{1}
 
\PY{n}{freqs} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{freqs}\PY{p}{)}
\PY{n}{histFreqs} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{l+m+mi}{10}
\PY{n}{c} \PY{o}{=} \PY{n}{unique}\PY{p}{(}\PY{n}{counts}\PY{p}{)}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{n}{freqs}\PY{p}{[}\PY{n}{c}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{]}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{n}{freqs}\PY{p}{[}\PY{n}{c}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{]}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]} \PY{o}{=} \PY{n}{freqs}\PY{p}{[}\PY{n}{c}\PY{o}{==}\PY{l+m+mi}{2}\PY{p}{]}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]} \PY{o}{=} \PY{n}{freqs}\PY{p}{[}\PY{n}{c}\PY{o}{==}\PY{l+m+mi}{3}\PY{p}{]}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{]} \PY{o}{=} \PY{n}{freqs}\PY{p}{[}\PY{n}{c}\PY{o}{==}\PY{l+m+mi}{4}\PY{p}{]}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{freqs}\PY{p}{[}\PY{p}{(}\PY{n}{c}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{c}\PY{o}{<}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{]}\PY{p}{)}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{6}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{freqs}\PY{p}{[}\PY{p}{(}\PY{n}{c}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{c}\PY{o}{<}\PY{o}{=}\PY{l+m+mi}{50}\PY{p}{)}\PY{p}{]}\PY{p}{)}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{7}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{freqs}\PY{p}{[}\PY{p}{(}\PY{n}{c}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{51}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{c}\PY{o}{<}\PY{o}{=}\PY{l+m+mi}{100}\PY{p}{)}\PY{p}{]}\PY{p}{)}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{8}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{freqs}\PY{p}{[}\PY{p}{(}\PY{n}{c}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{101}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{c}\PY{o}{<}\PY{o}{=}\PY{l+m+mi}{200}\PY{p}{)}\PY{p}{]}\PY{p}{)}
\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{9}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{freqs}\PY{p}{[}\PY{p}{(}\PY{n}{c}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{201}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{c}\PY{o}{<}\PY{o}{=}\PY{l+m+mi}{5000}\PY{p}{)}\PY{p}{]}\PY{p}{)}

\PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{dpi}\PY{o}{=}\PY{l+m+mi}{300}\PY{p}{)}
\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{,} \PY{n}{colspan}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}
\PY{n}{width}\PY{o}{=}\PY{l+m+mf}{0.5}
\PY{n}{p1} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{bins}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{b}\PY{l+s}{'}\PY{p}{,} \PY{n}{align}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{center}\PY{l+s}{'}\PY{p}{)}
\PY{n}{p2} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{bins}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{r}\PY{l+s}{'}\PY{p}{,} \PY{n}{align}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{center}\PY{l+s}{'}\PY{p}{)}

\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{none}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
    
\PY{n}{legend} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(} \PY{p}{(}\PY{n}{p1}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{p2}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{prop}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s}{'}\PY{l+s}{size}\PY{l+s}{'}\PY{p}{:}\PY{l+m+mi}{12}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{legend}\PY{o}{.}\PY{n}{get\PYZus{}frame}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{set\PYZus{}linewidth}\PY{p}{(}\PY{l+m+mf}{0.0}\PY{p}{)}

\PY{n}{ylabs} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{'} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)} \PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{n}{ylabs}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{6000}\PY{p}{,} \PY{l+m+mi}{1000}\PY{p}{)}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}yticklabels}\PY{p}{(}\PY{n}{ylabs}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{)}
    
\PY{n}{xlabs} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{'} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)} \PY{p}{]}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticks}\PY{p}{(}\PY{n}{bins}\PY{p}{)}
\PY{n}{xlabs} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{0}\PY{l+s}{'}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{ 1}\PY{l+s}{'}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{ 2}\PY{l+s}{'}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{ 3}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{4}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{ 5-10}\PY{l+s}{'}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{ 11-50}\PY{l+s}{'}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{ 51-100}\PY{l+s}{'}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{ 101-200}\PY{l+s}{'}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{ 201-5000}\PY{l+s}{'}\PY{p}{]}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{n}{xlabs}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{70}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}

\PY{n}{ax2} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}
\PY{n}{p3} \PY{o}{=} \PY{n}{ax2}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{b}\PY{l+s}{'}\PY{p}{,} \PY{n}{align}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{center}\PY{l+s}{'}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
\PY{n}{p4} \PY{o}{=} \PY{n}{ax2}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{l+m+mf}{1.7}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{histFreqs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{r}\PY{l+s}{'}\PY{p}{,} \PY{n}{align}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{center}\PY{l+s}{'}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}

\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax2}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax2}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{none}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Frequency}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}

\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}yticklabels}\PY{p}{(}\PY{n}{ylabs}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{l+m+mf}{0.5}\PY{p}{,} \PY{l+m+mf}{2.2}\PY{p}{)}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticks}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mf}{1.7}\PY{p}{)}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{0}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{1-5000}\PY{l+s}{'}\PY{p}{]}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{70}\PY{p}{)}


\PY{n}{fig}\PY{o}{.}\PY{n}{suptitle}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Figure 2: Distribution of the Number of Deaths }\PY{l+s+se}{\PYZbs{}n}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{l+m+mf}{0.35}\PY{p}{,}\PY{o}{-}\PY{l+m+mf}{0.1}\PY{p}{,}\PY{l+s}{'}\PY{l+s}{Number of Deaths}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{fig2.pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{format}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{bbox\PYZus{}inches}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{tight}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
    \begin{center}
    \includegraphics[max size={\textwidth}{\textheight}]{Boyas 222 Project_files/Boyas 222 Project_25_0.png}
    \par
    \end{center}
    
            \end{InvisibleVerbatim}
            
        
    
Figure 2 is a set of two bar charts intended to show the frequencies of
the number of deaths in all of the African social conflicts from
1990--2011. The left plot shows the number of conflicts that resulted in
no deaths and at least one death. The right plot shows the same
frequency bar for no death conflicts but bins the conflicts resulting in
at least one death. Note the extreme overdispersion and zero-inflation
on this more detailed plot; while there are over 2000 conflicts
resulting in at least one death, the actual number of deaths ranges from
one death to 5000 deaths. This zero-inflated, overdispersed distribution
of the actual number of deaths could be a problem for the modeling
effort.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}52{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{noNan} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{npart}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{noNan} \PY{o}{=} \PY{n}{noNan}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{noNan}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{noNan} \PY{o}{=} \PY{n}{noNan}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{npart}\PY{o}{!=}\PY{l+m+mi}{0}\PY{p}{]}

\PY{n}{jitter} \PY{o}{=} \PY{l+m+mf}{0.05}
\PY{n}{jittered} \PY{o}{=} \PY{p}{[}\PY{n}{x} \PY{o}{+} \PY{n}{random}\PY{o}{.}\PY{n}{uniform}\PY{p}{(}\PY{o}{-}\PY{n}{jitter}\PY{p}{,} \PY{n}{jitter}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{noNan}\PY{o}{.}\PY{n}{npart}\PY{p}{]}

\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{111}\PY{p}{)}
\PY{n}{width}\PY{o}{=}\PY{l+m+mf}{0.5}
\PY{n}{p1} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{jittered}\PY{p}{,} \PY{n}{noNan}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{black}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}

\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{none}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Number of Deaths}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{ylabs} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{'} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)} \PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{n}{ylabs}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{900}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}yticklabels}\PY{p}{(}\PY{n}{ylabs}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Number of Participants}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{xlabs} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{'} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)} \PY{p}{]}
\PY{n}{xlabs}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{less than 10}\PY{l+s}{'}
\PY{n}{xlabs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{10-100}\PY{l+s}{'}
\PY{n}{xlabs}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{101-1000}\PY{l+s}{'}
\PY{n}{xlabs}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{1001-10000}\PY{l+s}{'}
\PY{n}{xlabs}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{]}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{10001-100000}\PY{l+s}{'}
\PY{n}{xlabs}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{]}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{100001-1000000}\PY{l+s}{'}
\PY{n}{xlabs}\PY{p}{[}\PY{l+m+mi}{6}\PY{p}{]}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{over 1000000}\PY{l+s}{'}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticks}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{n}{xlabs}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{70}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Figure 3: Deaths by Conflict Size }\PY{l+s+se}{\PYZbs{}n}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{fig3.pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{format}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{bbox\PYZus{}inches}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{tight}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
    \begin{center}
    \includegraphics[max size={\textwidth}{\textheight}]{Boyas 222 Project_files/Boyas 222 Project_27_0.png}
    \par
    \end{center}
    
            \end{InvisibleVerbatim}
            
        
    
Figure 3, above, is a scatterplot showing the number of participants
(binned by the original coders of the SCAD dataset) vs.~the continuous
variable number of deaths. The points are translucent and jittered
slightly to try to show the density. It was expected that the plot
should show an increasing relationship between participants and number
of deaths, simply based on the idea that a conflict involving more
people has higher odds to result in a death. The plot does not
necessarily show this relationship, though the normal-esque relationship
is probably an artifact of the dataset having significantly more
observations in the center than at the tails of the number of
participants variable.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}53{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{noNan} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{duration}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{noNan} \PY{o}{=} \PY{n}{noNan}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{noNan}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}

\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{111}\PY{p}{)}
\PY{n}{width}\PY{o}{=}\PY{l+m+mf}{0.5}
\PY{n}{p1} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{noNan}\PY{o}{.}\PY{n}{duration}\PY{p}{,} \PY{n}{noNan}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{black}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}

\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{bottom}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Number of Deaths}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}

   
\PY{n}{ax}\PY{o}{.}\PY{n}{tick\PYZus{}params}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{both}\PY{l+s}{'}\PY{p}{,} \PY{n}{which}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{major}\PY{l+s}{'}\PY{p}{,} \PY{n}{labelsize}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{25}\PY{p}{,} \PY{l+m+mi}{400}\PY{p}{)}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{500}\PY{p}{,} \PY{l+m+mi}{5100}\PY{p}{)}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Duration (days)}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Figure 4: Deaths by Conflict Duration }\PY{l+s+se}{\PYZbs{}n}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{fig4.pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{format}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{bbox\PYZus{}inches}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{tight}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
    \begin{center}
    \includegraphics[max size={\textwidth}{\textheight}]{Boyas 222 Project_files/Boyas 222 Project_29_0.png}
    \par
    \end{center}
    
            \end{InvisibleVerbatim}
            
        
    
Motivated similarly as Figure 3, Figure 4 is a scatterplot of the
duration of each conflict (in days) against the number of deaths. It
intuitively makes sense that there should be an increasing relationship
between these variables, as the longer a conflict, the more chances for
a death to result. However, the plot does not support such a conclusion;
taking into account the fact that we have many more shorter conflicts in
the dataset, there does not seem to be that much of a relationship
between duration and the number of deaths.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}35{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}top 10 most violent conflicts table}
\PY{n}{noNan} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{scad}\PY{o}{.}\PY{n}{ndeath}\PY{p}{)}\PY{p}{]}
\PY{n}{top10} \PY{o}{=} \PY{n}{noNan}\PY{o}{.}\PY{n}{sort}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{n}{ascending}\PY{o}{=}\PY{n+nb+bp}{False}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]}
\PY{n}{top10} \PY{o}{=} \PY{n}{top10}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{countryname}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{startdate}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{enddate}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{duration}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{top10}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{11}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{top10}\PY{o}{.}\PY{n}{startdate} \PY{o}{=} \PY{n}{top10}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{startdate}\PY{l+s}{'}\PY{p}{]}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n+nb}{str}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]}\PY{p}{)}
\PY{n}{top10}\PY{o}{.}\PY{n}{enddate} \PY{o}{=} \PY{n}{top10}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{enddate}\PY{l+s}{'}\PY{p}{]}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n+nb}{str}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]}\PY{p}{)}
\PY{n}{top10}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Country}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Start}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{End}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Duration (days)}\PY{l+s}{'}\PY{p}{]}
\PY{n}{space} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{&nbsp;}\PY{l+s}{'}
\PY{n}{display}\PY{p}{(}\PY{n}{HTML}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{<left>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{<font size=3>}\PY{l+s}{"} \PY{o}{+} \PY{n}{space}\PY{o}{*}\PY{l+m+mi}{50} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{Table 1: Top 10 Most Violent Conflicts}\PY{l+s}{'} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</font>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</left>}\PY{l+s}{"}\PY{p}{)}\PY{p}{)}
\PY{n}{top10}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}<IPython.core.display.HTML at 0x4aa9dd0>\end{alltt}

            \end{InvisibleVerbatim}
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}35{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}    Deaths                           Country       Start         End
\textbackslash{}
1     5000  Democratic Republic of the Congo  1999-09-01  1999-12-31
2     3500  Democratic Republic of the Congo  1993-03-20  1993-08-31
3     3000                             Ghana  1994-02-04  1994-02-14
4     3000                           Nigeria  1998-01-27  1998-09-15
5     2000                            Rwanda  1995-04-24  1995-04-24
6     1800                           Nigeria  1992-05-15  1992-05-20
7     1500  Democratic Republic of the Congo  2009-03-30  2009-06-30
8     1500                           Liberia  1996-04-06  1996-05-27
9     1400  Democratic Republic of the Congo  2002-04-30  2002-06-11
10    1132                      South Africa  1990-08-12  1990-10-01

    Duration (days)
1               122
2               165
3                11
4               232
5                 1
6                 6
7                93
8                52
9                43
10               51\end{alltt}

            \end{InvisibleVerbatim}
            
        
    
Table 1 lists the top 10 most violent conflicts in terms of absolute
deaths. Note the variation even amongst these 10 records: 6 different
countries, 10 different years, 7 different months, and durations ranging
from one day to almost 8 months. There does not seem to be a unique
profile that identifies a high-mortality conflict, which could create
issues during the modeling phase of this project.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}22{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}deaths no deaths by regime and dominant religion}
\PY{n}{agg} \PY{o}{=} \PY{n}{scad}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{domRel}\PY{l+s}{'}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}
\PY{n}{r1} \PY{o}{=} \PY{p}{[}\PY{n}{agg}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{n}{x}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{r2} \PY{o}{=} \PY{p}{[}\PY{n}{agg}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{n}{x}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{religion} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{vstack}\PY{p}{(}\PY{p}{(}\PY{n}{r1}\PY{p}{,}\PY{n}{r2}\PY{p}{)}\PY{p}{)}
\PY{n}{sums} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{religion}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
\PY{n}{religion} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{vstack}\PY{p}{(}\PY{p}{(}\PY{n}{religion}\PY{p}{,} \PY{n}{sums}\PY{p}{)}\PY{p}{)}
\PY{n}{percents} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{n}{religion}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{float}\PY{p}{)}\PY{o}{/}\PY{n}{sums}\PY{p}{,} \PY{n}{decimals}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
\PY{n}{relPer} \PY{o}{=} \PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{]}

\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
        \PY{n}{relPer}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{religion}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{ (}\PY{l+s}{"} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{percents}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{\PYZpc{}}\PY{l+s}{)}\PY{l+s}{"}
        
\PY{n}{religion}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{relPer}\PY{p}{)}

\PY{n}{religion}\PY{o}{.}\PY{n}{index}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Total}\PY{l+s}{'}\PY{p}{]}
\PY{n}{religion}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{Animist}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Christianity}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Hinduism}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Islam}\PY{l+s}{'}\PY{p}{]}
\PY{n}{space} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{&nbsp;}\PY{l+s}{'}
\PY{n}{display}\PY{p}{(}\PY{n}{HTML}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{<left>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{<font size=3>}\PY{l+s}{"} \PY{o}{+} \PY{n}{space}\PY{o}{*}\PY{l+m+mi}{5} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{Table 2: Number of Death/No Death Conflicts by Dominant Religion}\PY{l+s}{'} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</font>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</left>}\PY{l+s}{"}\PY{p}{)}\PY{p}{)}
\PY{n}{religion}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{Islam}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Christianity}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Animist}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Hinduism}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}<IPython.core.display.HTML at 0x7a285d0>\end{alltt}

            \end{InvisibleVerbatim}
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}22{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}                   Islam   Christianity       Animist    Hinduism
No Deaths  2339 (61.78\%)  2333 (62.75\%)  159 (81.96\%)  5 (83.33\%)
Deaths     1447 (38.22\%)  1385 (37.25\%)   35 (18.04\%)  1 (16.67\%)
Total      3786 (100.0\%)  3718 (100.0\%)  194 (100.0\%)  6 (100.0\%)\end{alltt}

            \end{InvisibleVerbatim}
            
        
    
Table 2 shows the number of conflicts resulting in deaths / no deaths
broken out by the dominant religion of the country (with column
percentages in parentheses). There does not seem to be any pattern here.
Christianity and Islam are the two major religions in Africa, and they
show very similar numbers in the table output. The high percentages of
No Death conflicts in both Animist and Hindu dominated countries can
probably be explained by the relatively small number of observations in
both columns.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}37{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}deaths no deaths by regime and dominant religion}
\PY{n}{v} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{polity}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{countryname}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{pind}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{polity}
\PY{n}{v}\PY{o}{.}\PY{n}{pind}\PY{p}{[}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{>}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{10}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{<}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{1}
\PY{n}{v}\PY{o}{.}\PY{n}{pind}\PY{p}{[}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{>}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{5}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{<}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{2}
\PY{n}{v}\PY{o}{.}\PY{n}{pind}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{3}
\PY{n}{v}\PY{o}{.}\PY{n}{pind}\PY{p}{[}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{<}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{4}
\PY{n}{v}\PY{o}{.}\PY{n}{pind}\PY{p}{[}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{>}\PY{o}{=}\PY{l+m+mi}{6}\PY{p}{)} \PY{o}{&} \PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{<}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{5}
\PY{n}{v}\PY{o}{.}\PY{n}{pind}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{<}\PY{o}{-}\PY{l+m+mi}{10}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{v}\PY{o}{.}\PY{n}{pind}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{o}{>}\PY{l+m+mi}{10}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{pind}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{agg} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{pind}\PY{l+s}{'}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}
\PY{n}{r1} \PY{o}{=} \PY{p}{[}\PY{n}{agg}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{n}{x}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{r2} \PY{o}{=} \PY{p}{[}\PY{n}{agg}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{n}{x}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{regime} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{vstack}\PY{p}{(}\PY{p}{(}\PY{n}{r1}\PY{p}{,}\PY{n}{r2}\PY{p}{)}\PY{p}{)}
\PY{n}{sums} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{regime}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
\PY{n}{regime} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{vstack}\PY{p}{(}\PY{p}{(}\PY{n}{regime}\PY{p}{,} \PY{n}{sums}\PY{p}{)}\PY{p}{)}

\PY{n}{percents} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{n}{regime}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{float}\PY{p}{)}\PY{o}{/}\PY{n}{sums}\PY{p}{,} \PY{n}{decimals}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
\PY{n}{regPer} \PY{o}{=} \PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{]}

\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
        \PY{n}{regPer}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{regime}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{ (}\PY{l+s}{"} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{percents}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{\PYZpc{}}\PY{l+s}{)}\PY{l+s}{"}
        
\PY{n}{regime}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{regPer}\PY{p}{)}
\PY{n}{regime}\PY{o}{.}\PY{n}{index}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Total}\PY{l+s}{'}\PY{p}{]}
\PY{n}{regime}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{Strong Autocracy}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Weak Autocracy}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Middle Ground}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Weak Democracy}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Strong Democracy}\PY{l+s}{'}\PY{p}{]}
\PY{n}{space} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{&nbsp;}\PY{l+s}{'}
\PY{n}{display}\PY{p}{(}\PY{n}{HTML}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{<left>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{<font size=3>}\PY{l+s}{"} \PY{o}{+} \PY{n}{space}\PY{o}{*}\PY{l+m+mi}{40} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{Table 3: Number of Death/No Death Conflicts by Regime Type}\PY{l+s}{'} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</font>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</left>}\PY{l+s}{"}\PY{p}{)}\PY{p}{)}
\PY{n}{regime}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}<IPython.core.display.HTML at 0x73ed190>\end{alltt}

            \end{InvisibleVerbatim}
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}37{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}          Strong Autocracy Weak Autocracy Middle Ground Weak Democracy
\textbackslash{}
No Deaths     798 (76.36\%)  1401 (69.84\%)   74 (77.08\%)  1010 (57.29\%)
Deaths        247 (23.64\%)   605 (30.16\%)   22 (22.92\%)   753 (42.71\%)
Total        1045 (100.0\%)  2006 (100.0\%)   96 (100.0\%)  1763 (100.0\%)

          Strong Democracy
No Deaths     928 (65.58\%)
Deaths        487 (34.42\%)
Total        1415 (100.0\%)\end{alltt}

            \end{InvisibleVerbatim}
            
        
    
Table 3 shows the number of conflicts resulting in deaths / no deaths
broken out by the regime type of the country (with column percentages in
parentheses). Regime type is measured on a continuum binned from the
Freedom House Polity score which ranges as integers from -10 (full
autocracy) to +10 (full democracy). Countries in the `Middle Ground'
group have a Polity score of 0, dead center between autocracy and
democracy. The above table seems to show that democracies, particularly
weak democracies, have more death-resulting conflicts than do
autocracies. This counterintuitive observation could potentially be
explained by the idea that democracy fosters a political environment
where citizens can speak their minds, which can lead to more situations
of death. This table shows that perhaps there is a relationship between
regime type as measured by Polity score and the occurrence of deaths in
a conflict, something that will be investigated further in the modeling
phase of this project.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}16{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{dpi}\PY{o}{=}\PY{l+m+mi}{300}\PY{p}{)}
\PY{n}{noNan} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{longitude}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{latitude}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}

\PY{n}{ax1} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,} \PY{n}{colspan}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
\PY{n}{map1} \PY{o}{=} \PY{n}{Basemap}\PY{p}{(}\PY{n}{projection}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{merc}\PY{l+s}{'}\PY{p}{,} \PY{n}{resolution}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{i}\PY{l+s}{'}\PY{p}{,} \PY{n}{llcrnrlon}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{20}\PY{p}{,} \PY{n}{llcrnrlat}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{38}\PY{p}{,} \PY{n}{urcrnrlon}\PY{o}{=}\PY{l+m+mi}{55}\PY{p}{,} \PY{n}{urcrnrlat}\PY{o}{=}\PY{l+m+mi}{40}\PY{p}{,} \PY{n}{area\PYZus{}thresh}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax1}\PY{p}{)}
\PY{n}{map1}\PY{o}{.}\PY{n}{drawcoastlines}\PY{p}{(}\PY{p}{)}
\PY{n}{map1}\PY{o}{.}\PY{n}{drawcountries}\PY{p}{(}\PY{p}{)}
\PY{n}{map1}\PY{o}{.}\PY{n}{drawmapboundary}\PY{p}{(}\PY{p}{)}
\PY{n}{map1}\PY{o}{.}\PY{n}{fillcontinents}\PY{p}{(}\PY{p}{)}
\PY{n}{ndx}\PY{p}{,} \PY{n}{ndy} \PY{o}{=} \PY{n}{map1}\PY{p}{(}\PY{n}{noNan}\PY{o}{.}\PY{n}{longitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{noNan}\PY{o}{.}\PY{n}{latitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
\PY{n}{p1} \PY{o}{=} \PY{n}{map1}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ndx}\PY{p}{,} \PY{n}{ndy}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{.}\PY{l+s}{'}\PY{p}{,}  \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{b}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{'}\PY{p}{,} \PY{n}{lw}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{ax1}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{)}

\PY{n}{ax2} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot2grid}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{,} \PY{n}{colspan}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
\PY{n}{map2} \PY{o}{=} \PY{n}{Basemap}\PY{p}{(}\PY{n}{projection}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{merc}\PY{l+s}{'}\PY{p}{,} \PY{n}{resolution}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{i}\PY{l+s}{'}\PY{p}{,} \PY{n}{llcrnrlon}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{20}\PY{p}{,} \PY{n}{llcrnrlat}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{38}\PY{p}{,} \PY{n}{urcrnrlon}\PY{o}{=}\PY{l+m+mi}{55}\PY{p}{,} \PY{n}{urcrnrlat}\PY{o}{=}\PY{l+m+mi}{40}\PY{p}{,} \PY{n}{area\PYZus{}thresh}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax2}\PY{p}{)}
\PY{n}{map2}\PY{o}{.}\PY{n}{drawcoastlines}\PY{p}{(}\PY{p}{)}
\PY{n}{map2}\PY{o}{.}\PY{n}{drawcountries}\PY{p}{(}\PY{p}{)}
\PY{n}{map2}\PY{o}{.}\PY{n}{drawmapboundary}\PY{p}{(}\PY{p}{)}
\PY{n}{map2}\PY{o}{.}\PY{n}{fillcontinents}\PY{p}{(}\PY{p}{)}
\PY{n}{dx}\PY{p}{,} \PY{n}{dy} \PY{o}{=} \PY{n}{map2}\PY{p}{(}\PY{n}{noNan}\PY{o}{.}\PY{n}{longitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{noNan}\PY{o}{.}\PY{n}{latitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
\PY{n}{p2} \PY{o}{=} \PY{n}{map2}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dx}\PY{p}{,} \PY{n}{dy}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{.}\PY{l+s}{'}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{r}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{'}\PY{p}{,} \PY{n}{lw}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{suptitle}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Figure 5: Map of Conflict Events}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{fig5.pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{format}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{bbox\PYZus{}inches}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{tight}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
    \begin{center}
    \includegraphics[max size={\textwidth}{\textheight}]{Boyas 222 Project_files/Boyas 222 Project_37_0.png}
    \par
    \end{center}
    
            \end{InvisibleVerbatim}
            
        
    
Figure 5 above attempts to visualize an answer to the question, ``Are
deaths more likely to happen in certain countries?'' In short, the
answer seems to be, ``Not really.'' Each dot represents an individual
unique conflict ID, and the dots are translucent to represent the
density of conflicts. At first glance, the two maps look effectively the
same, with the bulk of all conflicts occurring in West and East Africa.
While certain countries are certainly more prone towards
\emph{conflicts} than other countries, deaths do not seem to follow a
clear geographic pattern.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}30{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{map} \PY{o}{=} \PY{n}{Basemap}\PY{p}{(}\PY{n}{projection}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{merc}\PY{l+s}{'}\PY{p}{,} \PY{n}{resolution}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{i}\PY{l+s}{'}\PY{p}{,} \PY{n}{llcrnrlon}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{20}\PY{p}{,} \PY{n}{llcrnrlat}\PY{o}{=}\PY{o}{-}\PY{l+m+mi}{38}\PY{p}{,} \PY{n}{urcrnrlon}\PY{o}{=}\PY{l+m+mi}{55}\PY{p}{,} \PY{n}{urcrnrlat}\PY{o}{=}\PY{l+m+mi}{40}\PY{p}{,} \PY{n}{area\PYZus{}thresh}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n+nb}{map}\PY{o}{.}\PY{n}{drawcoastlines}\PY{p}{(}\PY{p}{)}
\PY{n+nb}{map}\PY{o}{.}\PY{n}{drawcountries}\PY{p}{(}\PY{p}{)}
\PY{n+nb}{map}\PY{o}{.}\PY{n}{drawmapboundary}\PY{p}{(}\PY{p}{)}
\PY{n+nb}{map}\PY{o}{.}\PY{n}{fillcontinents}\PY{p}{(}\PY{p}{)}

\PY{n}{noNan} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{longitude}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{latitude}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{noNan}\PY{o}{.}\PY{n}{longitude} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{noNan}\PY{o}{.}\PY{n}{longitude}\PY{p}{,} \PY{n}{decimals}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{noNan}\PY{o}{.}\PY{n}{latitude} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{noNan}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{n}{decimals}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{noNan} \PY{o}{=} \PY{n}{noNan}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{p}{)}

\PY{n}{ndx}\PY{p}{,} \PY{n}{ndy} \PY{o}{=} \PY{n+nb}{map}\PY{p}{(}\PY{n}{noNan}\PY{o}{.}\PY{n}{longitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{noNan}\PY{o}{.}\PY{n}{latitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
\PY{n}{p1} \PY{o}{=} \PY{n+nb}{map}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ndx}\PY{p}{,} \PY{n}{ndy}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{.}\PY{l+s}{'}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{'}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{b}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{lw}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{dx}\PY{p}{,} \PY{n}{dy} \PY{o}{=} \PY{n+nb}{map}\PY{p}{(}\PY{n}{noNan}\PY{o}{.}\PY{n}{longitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{noNan}\PY{o}{.}\PY{n}{latitude}\PY{p}{[}\PY{n}{noNan}\PY{o}{.}\PY{n}{death01}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
\PY{n}{p2} \PY{o}{=} \PY{n+nb}{map}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dx}\PY{p}{,} \PY{n}{dy}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{.}\PY{l+s}{'}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{'}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{r}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{lw}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}

\PY{n}{legend} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{(}\PY{n}{p1}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{p2}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{prop}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s}{'}\PY{l+s}{size}\PY{l+s}{'}\PY{p}{:}\PY{l+m+mi}{8}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{numpoints}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{legend}\PY{o}{.}\PY{n}{get\PYZus{}frame}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{set\PYZus{}linewidth}\PY{p}{(}\PY{l+m+mf}{0.0}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Figure 6: Map of Superimposed Deaths and No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{fig6.pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{format}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{bbox\PYZus{}inches}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{tight}\PY{l+s}{'}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
    \begin{center}
    \includegraphics[max size={\textwidth}{\textheight}]{Boyas 222 Project_files/Boyas 222 Project_39_0.png}
    \par
    \end{center}
    
            \end{InvisibleVerbatim}
            
        
    
Figure 6 above attempts to show the difference between the two maps
included in Figure 5. Because of the high density of points map
obscuring what type of conflict occurs where, I rounded each set of
latitude/longitude coordinates to the nearest degree and then removed
duplicate sets of coordinates \emph{after} subsetting by the
death/no-death indicator variable. Then plotting the points in red and
blue with translucency reveals a very interesting picture. Most of the
African conflicts with deaths occur on top or nearby conflicts with no
deaths with two exceptions: there is a large pocket of death-resulting
conflicts in Eastern Africa, which roughly corresponds to the
conflict-ridden South Sudan. There is also a large pocket of no death
conflicts in Southern Africa, corresponding to Namibia, a very
successful democracy. While this map illustrates more of a geographic
pattern than does the previous figure, the patterns still do not seem to
be wholly significant.\section{Modeling: Death/No Death Indicator}\subsubsection{Logistic Regression}

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}11{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Set aside 30\PYZpc{} of the dataset as a testing set to use after fitting the model}
\PY{c}{\PYZsh{} These train/test sets will be used throughout the rest of the analysis.}
\PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{seed}\PY{p}{(}\PY{l+m+mi}{13}\PY{p}{)} \PY{c}{\PYZsh{}Set a seed if you would like to always pull the same train and test sets}
\PY{n}{crossVal} \PY{o}{=} \PY{p}{[}\PY{n+nb+bp}{False}\PY{p}{]} \PY{o}{*} \PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{scad}\PY{p}{)}\PY{p}{)}
\PY{n}{numTest} \PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{l+m+mf}{0.3}\PY{o}{*}\PY{n+nb}{len}\PY{p}{(}\PY{n}{scad}\PY{p}{)}\PY{p}{)}
\PY{n}{crossVal}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{numTest}\PY{p}{]} \PY{o}{=} \PY{p}{[}\PY{n+nb+bp}{True}\PY{p}{]} \PY{o}{*} \PY{n}{numTest}
\PY{n}{crossVal} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{permutation}\PY{p}{(}\PY{n}{crossVal}\PY{p}{)}
\PY{n}{train} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{crossVal}\PY{p}{]}
\PY{n}{test} \PY{o}{=} \PY{n}{scad}\PY{p}{[}\PY{n}{crossVal}\PY{p}{]}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}25{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Try a number of different variable combinations and choose the model that minimizes prediction error}
\PY{c}{\PYZsh{} Preliminary analyses don't suggest relationships between npart, duration, religion, or regime type (polity)}
\PY{c}{\PYZsh{} Try country as well as other potential variables from the dataset including event type and central govt target indicator}
\PY{c}{\PYZsh{} Also add energy and natural resource variables}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{irst}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{pec}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ccode}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{mod1} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Logit}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{c}{\PYZsh{}print mod1.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.404275
         Iterations: 35
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}26{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Country, as expected from the maps, doesn't seem to be doing much.  Remove it and try adding in location category.}
\PY{c}{\PYZsh{} Also remove pec and irst, as their coefficients are extremely small}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{mod2} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Logit}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{c}{\PYZsh{}print mod2.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Optimization terminated successfully.
         Current function value: 0.437900
         Iterations 7
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}27{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Add issue1 as dummies}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{mod3} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Logit}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{c}{\PYZsh{}print mod3.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Optimization terminated successfully.
         Current function value: 0.417663
         Iterations 7
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}28{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Add escalation as dummies}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{mod4} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Logit}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{c}{\PYZsh{}print mod4.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.378502
         Iterations: 35
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}29{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Remove locnum - all coefficients are positive.  does that make intuitive sense?}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{mod5} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Logit}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{c}{\PYZsh{}print mod5.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.378502
         Iterations: 35
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}30{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Try without either escalation or locnum}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{mod6} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Logit}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{c}{\PYZsh{}print mod6.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Optimization terminated successfully.
         Current function value: 0.420977
         Iterations 7
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}31{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Compute Mean Squared Prediction Errors for the various logit models to perform model selection}
\PY{c}{\PYZsh{}Model 1}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{irst}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{pec}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ccode}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{mod1}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe1} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 2}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{mod2}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe2} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 3}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{mod3}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe3} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 4}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{mod4}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe4} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 5}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{mod5}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe5} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 6}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{mod6}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe6} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{n}{np}\PY{o}{.}\PY{n}{argmin}\PY{p}{(}\PY{p}{[}\PY{n}{mspe1}\PY{p}{,} \PY{n}{mspe2}\PY{p}{,} \PY{n}{mspe3}\PY{p}{,} \PY{n}{mspe4}\PY{p}{,} \PY{n}{mspe5}\PY{p}{,} \PY{n}{mspe6}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}31{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}2\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}32{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Check polity variable against this best logit}
\PY{c}{\PYZsh{} Earlier analyses were inconclusive about polity}
\PY{c}{\PYZsh{} Add issue1 as dummies}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{polity}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{polity}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{polity}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{polity}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{mod3pol} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Logit}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{p}{)}
\PY{k}{print} \PY{n}{mod3pol}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}
\PY{c}{\PYZsh{} As we had noticed with the earlier plot, polity seems to be inconclusive.  Every value of the variable}
\PY{c}{\PYZsh{} has roughly the same coefficient and an extremely small F statistic (very high p-value).  This further}
\PY{c}{\PYZsh{} supports the prior supposition that polity effects might not be as valid as they might seem.  In fact,}
\PY{c}{\PYZsh{} predicting using this variable yields very unreliable predictions such that every event is predicted as}
\PY{c}{\PYZsh{} a death.  Go with the model without polity.}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 0.392790
         Iterations: 35
                           Logit Regression Results
======================================================================
========
Dep. Variable:                death01   No. Observations:
3051
Model:                          Logit   Df Residuals:
3002
Method:                           MLE   Df Model:
48
Date:                Fri, 21 Mar 2014   Pseudo R-squ.:
0.3604
Time:                        19:01:02   Log-Likelihood:
-1198.4
converged:                      False   LL-Null:
-1873.6
                                        LLR p-value:
2.909e-251
======================================================================
=========
                  coef    std err          z      P>|z|      [95.0\%
Conf. Int.]
----------------------------------------------------------------------
---------
cgovtarget     -0.1999      0.139     -1.434      0.152        -0.473
0.073
cinc           36.4053     25.362      1.435      0.151       -13.304
86.114
etype\_2.0       0.7387      0.241      3.066      0.002         0.267
1.211
etype\_3.0       1.9967      0.308      6.481      0.000         1.393
2.601
etype\_4.0       2.0289      0.240      8.464      0.000         1.559
2.499
etype\_5.0       0.6954      0.413      1.686      0.092        -0.113
1.504
etype\_6.0      -0.6647      0.347     -1.914      0.056        -1.345
0.016
etype\_7.0       2.0947      0.333      6.293      0.000         1.442
2.747
etype\_8.0       3.4400      0.319     10.775      0.000         2.814
4.066
etype\_9.0       3.0811      0.274     11.261      0.000         2.545
3.617
etype\_10.0      3.0213      0.481      6.283      0.000         2.079
3.964
locnum\_2.0      0.3355      0.163      2.053      0.040         0.015
0.656
locnum\_3.0      1.1285      0.166      6.800      0.000         0.803
1.454
locnum\_4.0      0.7471      0.324      2.302      0.021         0.111
1.383
locnum\_5.0      1.1602      0.411      2.825      0.005         0.355
1.965
locnum\_6.0      0.8370      0.191      4.382      0.000         0.463
1.211
locnum\_7.0      1.2931      0.212      6.106      0.000         0.878
1.708
issue1\_2.0     -0.5284      0.243     -2.170      0.030        -1.006
-0.051
issue1\_3.0     -0.0207      0.257     -0.081      0.936        -0.525
0.483
issue1\_4.0     -2.1466      1.129     -1.901      0.057        -4.360
0.067
issue1\_5.0      0.9722      0.248      3.917      0.000         0.486
1.459
issue1\_6.0      0.4489      0.256      1.751      0.080        -0.054
0.951
issue1\_7.0     -0.4457      0.383     -1.162      0.245        -1.197
0.306
issue1\_8.0     -0.5940      0.297     -1.999      0.046        -1.176
-0.012
issue1\_9.0      0.4410      0.252      1.748      0.081        -0.054
0.936
issue1\_10.0     0.0491      0.203      0.242      0.809        -0.349
0.447
issue1\_11.0    -0.4032      0.343     -1.177      0.239        -1.075
0.268
issue1\_12.0     0.7786      0.240      3.250      0.001         0.309
1.248
issue1\_13.0     0.4199      0.222      1.895      0.058        -0.014
0.854
polity\_-9.0    28.9546   8.44e+05   3.43e-05      1.000     -1.65e+06
1.66e+06
polity\_-8.0    31.1029   8.44e+05   3.68e-05      1.000     -1.65e+06
1.66e+06
polity\_-7.0    29.5836   8.44e+05    3.5e-05      1.000     -1.65e+06
1.66e+06
polity\_-6.0    29.0327   8.44e+05   3.44e-05      1.000     -1.65e+06
1.66e+06
polity\_-5.0    29.5118   8.44e+05   3.49e-05      1.000     -1.65e+06
1.66e+06
polity\_-4.0    29.4802   8.44e+05   3.49e-05      1.000     -1.65e+06
1.66e+06
polity\_-3.0    28.3863   8.44e+05   3.36e-05      1.000     -1.65e+06
1.66e+06
polity\_-2.0    29.6495   8.44e+05   3.51e-05      1.000     -1.65e+06
1.66e+06
polity\_-1.0    29.7884   8.44e+05   3.53e-05      1.000     -1.65e+06
1.66e+06
polity\_0.0     28.1530   8.44e+05   3.33e-05      1.000     -1.65e+06
1.66e+06
polity\_1.0     28.7548   8.44e+05   3.41e-05      1.000     -1.65e+06
1.66e+06
polity\_2.0     28.8116   8.44e+05   3.41e-05      1.000     -1.65e+06
1.66e+06
polity\_4.0     29.7348   8.44e+05   3.52e-05      1.000     -1.65e+06
1.66e+06
polity\_5.0     29.7693   8.44e+05   3.53e-05      1.000     -1.65e+06
1.66e+06
polity\_6.0     28.7246   8.44e+05    3.4e-05      1.000     -1.65e+06
1.66e+06
polity\_7.0     29.6945   8.44e+05   3.52e-05      1.000     -1.65e+06
1.66e+06
polity\_8.0     30.0756   8.44e+05   3.56e-05      1.000     -1.65e+06
1.66e+06
polity\_9.0     29.0154   8.44e+05   3.44e-05      1.000     -1.65e+06
1.66e+06
polity\_10.0    29.9964   8.44e+05   3.55e-05      1.000     -1.65e+06
1.66e+06
intercept     -32.5355   8.44e+05  -3.85e-05      1.000     -1.66e+06
1.65e+06
======================================================================
=========
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}46{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}Create a prediction accuracy chart from the chosen logit model}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{mod3}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}

\PY{n}{predAnalysis} \PY{o}{=} \PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{true}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{k}{if} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}
    \PY{k}{elif} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}
    \PY{k}{elif} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}
    \PY{k}{elif} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}
        
\PY{n}{sums} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{percents} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{float}\PY{p}{)}\PY{o}{/}\PY{n}{np}\PY{o}{.}\PY{n}{vstack}\PY{p}{(}\PY{p}{(}\PY{n}{sums}\PY{p}{,} \PY{n}{sums}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{T}\PY{p}{,} \PY{n}{decimals}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}

\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{ (}\PY{l+s}{"} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{percents}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{\PYZpc{}}\PY{l+s}{)}\PY{l+s}{"}
        
\PY{n}{predAnalysis} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{)}
\PY{n}{predAnalysis}\PY{o}{.}\PY{n}{index}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{]}
\PY{n}{predAnalysis}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{Predicted as No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Predicted as Deaths}\PY{l+s}{'}\PY{p}{]}
\PY{n}{space} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{&nbsp;}\PY{l+s}{'}
\PY{n}{display}\PY{p}{(}\PY{n}{HTML}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{<left>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{<font size=3>}\PY{l+s}{"} \PY{o}{+} \PY{n}{space}\PY{o}{*}\PY{l+m+mi}{12} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{Table 4: Logistic Regression Prediction Accuracy}\PY{l+s}{'} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</font>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</left>}\PY{l+s}{"}\PY{p}{)}\PY{p}{)}
\PY{n}{predAnalysis}  
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}<IPython.core.display.HTML at 0x6053310>\end{alltt}

            \end{InvisibleVerbatim}
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}46{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}          Predicted as No Deaths Predicted as Deaths
No Deaths           957 (89.36\%)        114 (10.64\%)
Deaths              170 (30.41\%)        389 (69.59\%)\end{alltt}

            \end{InvisibleVerbatim}
            
        
    
\subsection{K Nearest Neighbors}

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}49{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Use the same variables chosen through the regression model to fit and test a KNN}
\PY{c}{\PYZsh{} KNN (nonparametric) often does better classifying 0/1 in a binary}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}


\PY{n}{KNN} \PY{o}{=} \PY{n}{KNeighborsClassifier}\PY{p}{(}\PY{n}{n\PYZus{}neighbors}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
\PY{n}{KNN}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{v}\PY{o}{.}\PY{n}{death01}\PY{p}{)}

\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{death01}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{ests} \PY{o}{=} \PY{n}{KNeighborsClassifier}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{KNN}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{predAnalysis} \PY{o}{=} \PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{true}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{k}{if} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}
    \PY{k}{elif} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}
    \PY{k}{elif} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{0}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}
    \PY{k}{elif} \PY{n}{true}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1} \PY{o+ow}{and} \PY{n}{ests}\PY{p}{[}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{n}{predAnalysis}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{l+m+mi}{1}

\PY{n}{sums} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{percents} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{100}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{float}\PY{p}{)}\PY{o}{/}\PY{n}{np}\PY{o}{.}\PY{n}{vstack}\PY{p}{(}\PY{p}{(}\PY{n}{sums}\PY{p}{,} \PY{n}{sums}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{T}\PY{p}{,} \PY{n}{decimals}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}

\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
        \PY{n}{predAnalysis}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{ (}\PY{l+s}{"} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{percents}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{\PYZpc{}}\PY{l+s}{)}\PY{l+s}{"}
        
\PY{n}{predAnalysis} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{predAnalysis}\PY{p}{)}
\PY{n}{predAnalysis}\PY{o}{.}\PY{n}{index}\PY{o}{=}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Deaths}\PY{l+s}{'}\PY{p}{]}
\PY{n}{predAnalysis}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{Predicted as No Deaths}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{Predicted as Deaths}\PY{l+s}{'}\PY{p}{]}
\PY{n}{space} \PY{o}{=} \PY{l+s}{'}\PY{l+s}{&nbsp;}\PY{l+s}{'}
\PY{n}{display}\PY{p}{(}\PY{n}{HTML}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{<left>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{<font size=3>}\PY{l+s}{"} \PY{o}{+} \PY{n}{space}\PY{o}{*}\PY{l+m+mi}{21} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{Table 5: KNN Prediction Accuracy (K=10)}\PY{l+s}{'} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</font>}\PY{l+s}{"} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{</left>}\PY{l+s}{"}\PY{p}{)}\PY{p}{)}
\PY{n}{predAnalysis}      
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}<IPython.core.display.HTML at 0x858a990>\end{alltt}

            \end{InvisibleVerbatim}
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}49{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}          Predicted as No Deaths Predicted as Deaths
No Deaths           990 (92.44\%)          81 (7.56\%)
Deaths              225 (40.25\%)        334 (59.75\%)\end{alltt}

            \end{InvisibleVerbatim}
            
        
    
Tables 4 and 5 show prediction rates on the test set for the logistic
and KNN models, in absolute numbers with row percentages in parentheses.
Both models have very similar accuracy rates at predicting the test set.
For this specific test set, the KNN model more accurately predicts the
No Deaths (with a 92\% success rate) and the Logit model more accurately
predicts the Deaths (with a 69\% success rate). However, the differences
in accuracy do not seem to be significant enough to prefer one model
over another purely based on prediction power. It is interesting that we
get similar prediction results using different techniques on the same
data, which leads me to believe that perhaps there is something
particularly interesting about this combination of variables for
modeling the death/no death indicator variable.\subsection{Modeling: Absolute Number of Deaths}Go through a similar process as before using Poisson regression to try
to model the absolute number of deaths.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}12{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Try a number of different variable combinations and choose the model that minimizes prediction error}
\PY{c}{\PYZsh{} Preliminary analyses don't suggest relationships between npart, duration, religion, or regime type (polity)}
\PY{c}{\PYZsh{} Try country as well as other potential variables from the dataset including event type and central govt target indicator}
\PY{c}{\PYZsh{} Also add energy and natural resource variables}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{irst}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{pec}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ccode}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp1} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{powell}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp1.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Optimization terminated successfully.
         Current function value: 26.906774
         Iterations: 14
         Function evaluations: 9657
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}13{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp2} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{bfgs}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp2.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 30.692446
         Iterations: 35
         Function evaluations: 40
         Gradient evaluations: 40
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}14{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Add issue1 as dummies}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp3} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{bfgs}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp3.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 28.207165
         Iterations: 35
         Function evaluations: 41
         Gradient evaluations: 41
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}15{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Add escalation as dummies}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp4} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{bfgs}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp4.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 29.249953
         Iterations: 35
         Function evaluations: 40
         Gradient evaluations: 40
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}16{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Remove locnum - all coefficients are positive.  does that make intuitive sense?}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp5} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{bfgs}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp5.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 29.249953
         Iterations: 35
         Function evaluations: 40
         Gradient evaluations: 40
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}17{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Try without either escalation or locnum}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp6} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{bfgs}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp6.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 30.846363
         Iterations: 35
         Function evaluations: 40
         Gradient evaluations: 40
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}18{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Compute Mean Squared Prediction Errors for the various logit models to perform model selection}
\PY{c}{\PYZsh{}Model 1}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{irst}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{pec}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ccode}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp1}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe1} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 2}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp2}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe2} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 3}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp3}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe3} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 4}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp4}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe4} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 5}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp5}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe5} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 6}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp6}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe6} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{n}{np}\PY{o}{.}\PY{n}{argmin}\PY{p}{(}\PY{p}{[}\PY{n}{mspe1}\PY{p}{,} \PY{n}{mspe2}\PY{p}{,} \PY{n}{mspe3}\PY{p}{,} \PY{n}{mspe4}\PY{p}{,} \PY{n}{mspe5}\PY{p}{,} \PY{n}{mspe6}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}18{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}5\end{alltt}

            \end{InvisibleVerbatim}
            
        
    
This is the same model selected by the logistic regression process, an
interesting result.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}19{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} try one more model to add back in country}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ccode}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp3\PYZus{}2} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{bfgs}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp3\PYZus{}2.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 22.167518
         Iterations: 35
         Function evaluations: 40
         Gradient evaluations: 40
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}20{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} try one more model to add back in country}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{modp3\PYZus{}3} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{Poisson}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{missing}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{drop}\PY{l+s}{'}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{bfgs}\PY{l+s}{'}\PY{p}{)}
\PY{c}{\PYZsh{}print modp3\PYZus{}3.summary()}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}Warning: Maximum number of iterations has been exceeded.
         Current function value: 26.463825
         Iterations: 35
         Function evaluations: 40
         Gradient evaluations: 40
\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}21{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Compute Mean Squared Prediction Errors for the various logit models to perform model selection}
\PY{c}{\PYZsh{}Model 3v2}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{ccode}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{ccode}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp3\PYZus{}2}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe3\PYZus{}2} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}

\PY{c}{\PYZsh{}Model 3v3}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{escalation}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{escalation}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{ests} \PY{o}{=} \PY{n}{modp3\PYZus{}3}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{mspe3\PYZus{}3} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{true}\PY{o}{-}\PY{n}{ests}\PY{p}{)}\PY{p}{)}


\PY{n}{np}\PY{o}{.}\PY{n}{argmin}\PY{p}{(}\PY{p}{[}\PY{n}{mspe3}\PY{p}{,} \PY{n}{mspe3\PYZus{}2}\PY{p}{,} \PY{n}{mspe3\PYZus{}3}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}21{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}0\end{alltt}

            \end{InvisibleVerbatim}
            
        
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}22{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Residual vs. Fitted Value Plot for Best Poisson Model (on test set)}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{estsP} \PY{o}{=} \PY{n}{modp3}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{trueP} \PY{o}{=} \PY{n}{true}\PY{o}{.}\PY{n}{T}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}23{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Try a decision tree with the same variables}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{Y} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{ndeath}
\PY{n}{X} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k+kn}{import} \PY{n}{tree}
\PY{n}{clf} \PY{o}{=} \PY{n}{tree}\PY{o}{.}\PY{n}{DecisionTreeClassifier}\PY{p}{(}\PY{p}{)}
\PY{n}{clf} \PY{o}{=} \PY{n}{clf}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{Y}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{Y} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{ndeath}
\PY{n}{X} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{estsCART} \PY{o}{=} \PY{n}{clf}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X}\PY{p}{)}
\PY{n}{trueCART} \PY{o}{=} \PY{n}{Y}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}24{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Use the same variablesto fit and test a KNN}
\PY{n}{v} \PY{o}{=} \PY{n}{train}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}


\PY{n}{KNN} \PY{o}{=} \PY{n}{KNeighborsClassifier}\PY{p}{(}\PY{n}{n\PYZus{}neighbors}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{)}
\PY{n}{KNN}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{v}\PY{o}{.}\PY{n}{ndeath}\PY{p}{)}

\PY{n}{v} \PY{o}{=} \PY{n}{test}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cgovtarget}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{cinc}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{v}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{etype}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{etype}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{locnum}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{locnum}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{dummies} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{issue1}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{issue1}\PY{l+s}{'}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{v} \PY{o}{=} \PY{n}{v}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{dummies}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{n}{v}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{intercept}\PY{l+s}{'}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\PY{n}{true} \PY{o}{=} \PY{n}{v}\PY{p}{[}\PY{p}{[}\PY{l+s}{'}\PY{l+s}{ndeath}\PY{l+s}{'}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{values}
\PY{n}{estsKNN} \PY{o}{=} \PY{n}{KNeighborsClassifier}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{KNN}\PY{p}{,} \PY{n}{v}\PY{p}{[}\PY{n}{v}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\PY{n}{trueKNN} \PY{o}{=} \PY{n}{true}\PY{o}{.}\PY{n}{T}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    


    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}25{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{} Make residual plots for the models}
\PY{n}{fig} \PY{o}{=} \PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{,} \PY{n}{dpi}\PY{o}{=}\PY{l+m+mi}{300}\PY{p}{)}
\PY{n}{ax1} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{131}\PY{p}{)}
\PY{n}{width} \PY{o}{=} \PY{l+m+mf}{0.5}
\PY{n}{p1} \PY{o}{=} \PY{n}{ax1}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{estsP}\PY{p}{,} \PY{n}{trueP}\PY{o}{-}\PY{n}{estsP}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{black}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}

\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax1}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax1}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{bottom}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax1}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}

\PY{n}{ax1}\PY{o}{.}\PY{n}{set\PYZus{}ylabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Residuals}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{ax1}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mf}{0.1}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{estsP}\PY{p}{)}\PY{p}{,} \PY{l+m+mf}{1.1}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{estsP}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{ax1}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{1000}\PY{p}{,} \PY{l+m+mi}{2000}\PY{p}{)}\PY{p}{)}

\PY{n}{ax1}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Poisson Regression}\PY{l+s}{'}\PY{p}{)}

\PY{n}{ax2} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{132}\PY{p}{)}
\PY{n}{width} \PY{o}{=} \PY{l+m+mf}{0.5}
\PY{n}{p2} \PY{o}{=} \PY{n}{ax2}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{estsKNN}\PY{p}{,} \PY{n}{trueKNN}\PY{o}{-}\PY{n}{estsKNN}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{black}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}

\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax2}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax2}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{bottom}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}

\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Fitted Values}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mf}{0.1}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{estsKNN}\PY{p}{)}\PY{p}{,} \PY{l+m+mf}{1.1}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{estsKNN}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{1000}\PY{p}{,} \PY{l+m+mi}{2000}\PY{p}{)}\PY{p}{)}

\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{KNN (K=3)}\PY{l+s}{'}\PY{p}{)}

\PY{n}{ax3} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{133}\PY{p}{)}
\PY{n}{width} \PY{o}{=} \PY{l+m+mf}{0.5}
\PY{n}{p3} \PY{o}{=} \PY{n}{ax3}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{estsCART}\PY{p}{,} \PY{n}{trueCART}\PY{o}{-}\PY{n}{estsCART}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{black}\PY{l+s}{'}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}

\PY{n}{axesToLose} \PY{o}{=} \PY{p}{[}\PY{l+s}{'}\PY{l+s}{top}\PY{l+s}{'}\PY{p}{,} \PY{l+s}{'}\PY{l+s}{right}\PY{l+s}{'}\PY{p}{]}
\PY{k}{for} \PY{n}{axis} \PY{o+ow}{in} \PY{n}{axesToLose}\PY{p}{:}
    \PY{n}{ax3}\PY{o}{.}\PY{n}{spines}\PY{p}{[}\PY{n}{axis}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}visible}\PY{p}{(}\PY{n+nb+bp}{False}\PY{p}{)}
    
\PY{n}{ax3}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{bottom}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax3}\PY{o}{.}\PY{n}{yaxis}\PY{o}{.}\PY{n}{set\PYZus{}ticks\PYZus{}position}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{left}\PY{l+s}{'}\PY{p}{)}
\PY{n}{ax3}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mf}{0.1}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{estsCART}\PY{p}{)}\PY{p}{,} \PY{l+m+mf}{1.1}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{estsCART}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{ax3}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{p}{(}\PY{o}{-}\PY{l+m+mi}{1000}\PY{p}{,} \PY{l+m+mi}{2000}\PY{p}{)}\PY{p}{)}

\PY{n}{ax3}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{CART}\PY{l+s}{'}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{suptitle}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{Figure 7: Prediction Accuracy (Fitted Values vs. Residuals) }\PY{l+s+se}{\PYZbs{}n}\PY{l+s}{'}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{fig7.pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{format}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{pdf}\PY{l+s}{'}\PY{p}{,} \PY{n}{bbox\PYZus{}inches}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{tight}\PY{l+s}{'}\PY{p}{)}

\PY{n}{mspeP} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{trueP} \PY{o}{-} \PY{n}{estsP}\PY{p}{)}\PY{p}{)}
\PY{n}{mspeK} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{trueKNN} \PY{o}{-} \PY{n}{estsKNN}\PY{p}{)}\PY{p}{)}
\PY{n}{mspeC} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{square}\PY{p}{(}\PY{n}{trueCART} \PY{o}{-} \PY{n}{estsCART}\PY{p}{)}\PY{p}{)}
\PY{n}{np}\PY{o}{.}\PY{n}{argmin}\PY{p}{(}\PY{p}{[}\PY{n}{mspeP}\PY{p}{,} \PY{n}{mspeK}\PY{p}{,} \PY{n}{mspeC}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

            
                \vspace{-0.2\baselineskip}
            
        \end{ColorVerbatim}
    

    

        % If the first block is an image, minipage the image.  Else
        % request a certain amount of space for the input text.
        \needspace{4\baselineskip}
        
        

            % Add document contents.
            
                \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-out-prompt}Out\hspace{4pt}{[}25{]}:\hspace{4pt}}\\*
                \vspace{-2.55\baselineskip}\begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
\begin{alltt}2\end{alltt}

            \end{InvisibleVerbatim}
            
                \begin{InvisibleVerbatim}
                \vspace{-0.5\baselineskip}
    \begin{center}
    \includegraphics[max size={\textwidth}{\textheight}]{Boyas 222 Project_files/Boyas 222 Project_72_1.png}
    \par
    \end{center}
    
            \end{InvisibleVerbatim}
            
        
    
Figure 7 shows the Fitted Value vs.~Residual plots for predicting the
number of deaths using the same set of variables from the same test
dataset and three different modeling techniques: Poisson Regression, KNN
(K=3), and CART Decision Tree. It is interesting that the three models
have very different prediction accuracies, generally unlike what we saw
earlier with the binary models. The CART tree encompasses about half the
mean squared prediction error as the KNN model, which, in turn, has less
than half of the prediction error of the Poisson Regression. This
analysis lends more support for the information encoded in these
variables but also suggests that more work should be done with both
parametric and nonparametric methods to fit the optimal model --- all of
these models seem to have problems predicting in some way or another.
The decision tree, the best model here, seems to have very good
prediction accuracy for values up to around 500; however, values higher
than that can result in large residuals, something that could be a
problem depending on the model's intended application.

    % Make sure that atleast 4 lines are below the HR
    \needspace{4\baselineskip}

    
        \vspace{6pt}
        \makebox[0.1\linewidth]{\smaller\hfill\tt\color{nbframe-in-prompt}In\hspace{4pt}{[}{]}:\hspace{4pt}}\\*
        \vspace{-2.65\baselineskip}
        \begin{ColorVerbatim}
            \vspace{-0.7\baselineskip}
            \begin{Verbatim}[commandchars=\\\{\}]

\end{Verbatim}

            
                \vspace{0.3\baselineskip}
            
        \end{ColorVerbatim}
    

        

        \renewcommand{\indexname}{Index}
        \printindex

    % End of document
    \end{document}


